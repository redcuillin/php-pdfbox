# THIS BRANCH v3-dev-new-features
This is a branch for dangerous messing about with a view to adding functionality for php-doc v3.

## ROADMAP

Features that could/should be added:

1. Either Create a new java application that uses pdfbox.jar library to provide command-line access to features currently missing from pdfbox.jar command-line utils.
    1.1 In particular, provide a way to extract word coodinates.
2. OR Create a new java application that provides a full command-line API to pdfbox, which can then be used by PHP to generate (eg) JSON data for pdfbox library output.
3. An alternative method would be to implement something like PHP/Java Bridge, but it and various forks appear to be abandoned.

# PHP pdfbox

PHP-PDFBox is a tiny library which acts as a wrapper facilitating the use of PDFBox (https://pdfbox.apache.org/) in PHP.

PDFBox is published under the Apache License v2.0 and is described as "The Apache PDFBoxÂ® library is an open source Java tool for working with PDF documents."

## Installation

It is recommended to install PHP-PDFBox through
[Composer](http://getcomposer.org) :

```json
{
    "require": {
        "php-pdfbox/php-pdfbox": "^2.0"
    }
}
```
pdfbox-app.jar is included in the installation. You can/should verify the integrity of pdfbox-app.jar with the PGP signatures available at https://pdfbox.apache.org/download.html.

## Main API usage:

```php
$file = new \Pdfbox\Processor\PdfFile(
    new Pdfbox(
        '/path/to/java',
        '/path/to/pdfbox-app.jar'
    );
);

// Convert pdf to text
echo $file->toText('test.pdf');
```
(Providing a Logger object is optional in v2.0.1+.)
To use with psr/log and a PSR-3 compliant logger, do something like:
```php
use Psr\Log\LoggerInterface;
use MyPSR3Logger;

class Foo
{
    private $logger;

    public function __construct(LoggerInterface $logger = null){
        $this->logger = $logger;
    }

    public function doPdfBox(){
        try {
            $file = new \Pdfbox\Processor\PdfFile(
                new Pdfbox(
                    '/path/to/java',
                    '/path/to/pdfbox-app.jar',
                    $this->logger;
                );
            );
            // Convert pdf to text
            echo $file->toText('test.pdf');
        } catch (Exception $e) {
            $this->logger->error($e->getMessage(), ['exception', $e->backtrace()]);
        }
    }
}
$myLogger = new MyPSR3Logger();
$foo = new Foo($myLogger);

```
See `examples/ConsoleLogger.php` for a standard PSR3 compliant logger class that can be be copied and adapted.

See `examples/*.php` for more examples.

## API Documentation

HTML Documentation generated by [phpDocumentor](https://phpdoc.org/) can be found in [`docs/api`](docs/api/index.html).

## License

PHP-Pdfbox is released under MIT License http://opensource.org/licenses/MIT

See LICENSE file for more information.
